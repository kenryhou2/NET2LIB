*$
********************************************************************************************
* (C) Copyright 2021 Texas Instruments Incorporated. All rights reserved.
* TI Confidential - Selective Disclosure
********************************************************************************************
*SIM2PSPICE Library 
*Last update : Jan 7th 2022
*Contact : eric.lee@ti.com, david.baba@ti.com
********************************************************************************************
*$
.SUBCKT RES_S2P P N PARAMS: R=1k
R1 P N {R}
.ENDS RES_S2P
*$
.SUBCKT CAP_S2P P N PARAMS: C=1u
C1 P N {C}
.ENDS CAP_S2P
*$
.SUBCKT CAPA_S2P P N PARAMS: C=1u ESR=1m RLEAK=10MEG
R1 P N {RLEAK}
R2 P PINT {ESR} 
C1 PINT N {C}
.ENDS CAPA_S2P
*$
.SUBCKT CAPI_S2P P N PARAMS: C=1u IC=0
C1 P N {C} IC={IC}
.ENDS CAPI_S2P
*$
.SUBCKT CAPAI_S2P P N PARAMS: C=1u ESR=1m RLEAK=10MEG IC=0
R1 P N {RLEAK}
R2 P PINT {ESR} 
C1 PINT N {C} IC={IC}
.ENDS CAPAI_S2P
*$
.SUBCKT INDA_S2P P N PARAMS: L=1u DCR=10m
R1 P PINT {DCR}
L1 PINT N {L}
.ENDS INDA_S2P
*$
.SUBCKT IND_S2P P N PARAMS: L=1u
L1 P N {L}
.ENDS IND_S2P
*$
.SUBCKT VDC_S2P P N PARAMS: DC=10
V1 P N {DC}
.ENDS VDC_S2P
*$
.SUBCKT VSIN_S2P P N PARAMS: OFF=0 AMP=10 FREQ=1k TD=0 DF=0 
V1 P N SIN {OFF} {AMP} {FREQ} {TD} {DF}
.ENDS VSIN_S2P
*$
.SUBCKT VPULSE_S2P P N PARAMS: V1=0 V2=10 TD=0 TF=100n TR=100n PW=500u PER=1m
V1 P N PULSE {V1} {V2} {TD} {TR} {TF} {PW} {PER}
.ENDS VPULSE_S2P
*$
.SUBCKT VSAW_S2P P N PARAMS: V1=0 V2=10 TD=0 PER=1m
V1 P N PULSE {V1} {V2} {TD} {PER*0.999} 0 0 {PER}
.ENDS VSAW_S2P
*$
.SUBCKT VTRI_S2P P N PARAMS: V1=0 V2=10 TD=0 PER=1m DCP=50
V1 P N PULSE {V1} {V2} {TD} {PER*DCP/100} {PER*(100-DCP)/100} 0 {PER}
.ENDS VTRI_S2P
*$
.SUBCKT VSTEP_S2P P N PARAMS: V1=0 V2=1 TD=100u TR=1u
V1 P N PULSE {V1} {V2} {TD} {TR} {TR} 100 1000
.ENDS VSTEP_S2P
*$
.SUBCKT IDC_S2P P N PARAMS: DC=1
I1 P N {DC}
.ENDS IDC_S2P
*$
.SUBCKT ISIN_S2P P N PARAMS: OFF=0 AMP=1 FREQ=1k TD=0 DF=0 
I1 P N SIN {OFF} {AMP} {FREQ} {TD} {DF}
.ENDS ISIN_S2P
*$
.SUBCKT IPULSE_S2P P N PARAMS: I1=0 I2=1 TD=0 TF=100n TR=100n PW=500u PER=1m
I1 P N PULSE {I1} {I2} {TD} {TR} {TF} {PW} {PER}
.ENDS IPULSE_S2P
*$
.SUBCKT ISAW_S2P P N PARAMS: I1=0 I2=1 TD=0 PER=1m
I1 P N PULSE {I1} {I2} {TD} {PER*0.999} 0 0 {PER}
.ENDS ISAW_S2P
*$
.SUBCKT ITRI_S2P P N PARAMS: I1=0 I2=1 TD=0 PER=1m DCP=50
I1 P N PULSE {I1} {I2} {TD} {PER*DCP/100} {PER*(100-DCP)/100} 0 {PER}
.ENDS ITRI_S2P
*$
.SUBCKT ISTEP_S2P P N PARAMS: I1=0 I2=1 TD=100u TR=1u
I1 P N PULSE {I1} {I2} {TD} {TR} {TR} 100 1000
.ENDS ISTEP_S2P
*$
.SUBCKT VCVSWL_S2P INP INN OUTP OUTN PARAMS: GAIN=10 HLIM=100 LLIM=-100
E1 OUTP OUTN VALUE {LIMIT(V(INP,INN)*{GAIN},{LLIM},{HLIM})}
.ENDS VCVSWL_S2P
*$
.SUBCKT VCCSWL_S2P INP INN OUTP OUTN PARAMS: GAIN=10 HLIM=100 LLIM=-100
G1 OUTP OUTN VALUE {LIMIT(V(INP,INN)*{GAIN},{LLIM},{HLIM})}
.ENDS VCCSWL_S2P
*$
.SUBCKT CCVSWL_S2P INP INN OUTP OUTN PARAMS: GAIN=10 HLIM=100 LLIM=-100
V1 INP INN 0
H1 OUTP2 0 V1 {GAIN}
E1 OUTP OUTN VALUE {LIMIT(V(OUTP2),{LLIM},{HLIM})}
.ENDS CCVSWL_S2P
*$
.SUBCKT CCCSWL_S2P INP INN OUTP OUTN PARAMS: GAIN=10 HLIM=100 LLIM=-100
V1 INP INN 0
H1 OUTP2 0 V1 {GAIN}
G1 OUTP OUTN VALUE {LIMIT(V(OUTP2),{LLIM},{HLIM})}
.ENDS CCCSWL_S2P
*$
.SUBCKT RES_VPWL_S2P P N PARAMS: V1=1 V2=2 V3=3 V4=4 V5=5 V6=6 V7=7 V8=8 I1=0 I2=0.5 I3=1.0 I4=1.5 I5=2.0 I6=2.5 I7=3.0 I8=3.5
G1 P N TABLE {V(P,N)} = (-1000,{((I2-I1)/(V2-V1))*(V1-1000)+I1})({V1},{I1})({V2},{I2})({V3},{I3})({V4},{I4})({V5},{I5})({V6},{I6})({V7},{I7})({V8},{I8})(1000,{((I8-I7)/(V8-V7))*(1000-V8)+I8})
.ENDS RES_VPWL_S2P
*$
.SUBCKT RES_IPWL_S2P P N PARAMS: I1=0 I2=0.5 I3=1.0 I4=1.5 I5=2.0 I6=2.5 I7=3.0 I8=3.5 V1=1 V2=2 V3=3 V4=4 V5=5 V6=6 V7=7 V8=8
V1 P P1 0 
H1 ISEN 0 V1 1
E1 P1 N TABLE {V(ISEN,0)} = (-1000,{((V2-V1)/(I2-I1))*(I1-1000)+V1})({I1},{V1})({I2},{V2})({I3},{V3})({I4},{V4})({I5},{V5})({I6},{V6})({I7},{V7})({I8},{V8})(1000,{((V8-V7)/(I8-I7))*(1000-I8)+V8})
.ENDS RES_IPWL_S2P
*$